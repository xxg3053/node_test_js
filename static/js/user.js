!function e(n,t,i){function o(s,u){if(!t[s]){if(!n[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=t[s]={exports:{}};n[s][0].call(a.exports,function(e){var t=n[s][1][e];return o(t?t:e)},a,a.exports,e,n,t,i)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,t){e("./module/user/user_action");var i=e("./module/user/auth");user_action.is_login()||(console.log("没有登录，显示登录窗口"),$(".btn,.ticket,.record a").attr("data-login_btn",1)),user_action.on("login",function(){console.log("执行了登录操作"),window.location.reload()}),user_action.on("logout",function(){window.location.reload()}),$(".J-login-btn").click(function(){i.login_out(function(){user_action.emit("logout")})})},{"./module/user/auth":4,"./module/user/user_action":5}],2:[function(e,n,t){t.cookie=function(e,n,t,i,o,r){function s(e,n,t,i,o,r){var s=new Date;s.setTime(s.getTime()+1e3*t),document.cookie=e+"="+encodeURI(n)+(t?"; expires="+s.toGMTString():"")+(i?"; path="+i:"")+(o?"; domain="+o:"")+(r?"; secure":"")}function u(e){if(!document.cookie)return"";var n="",t=document.cookie.split(";");for(var i in t){var o=$.trim(t[i]).split("=");if(o[0]==e){n=o[1];try{n=decodeURIComponent(n)}catch(r){}break}}return n}return void 0==n?u(e):void s(e,n,t,i,o,r)}},{}],3:[function(e,n,t){t=n.exports=function(){return new t.EventEmitter},t.EventEmitter=function(){this._events=this._events||null},t.EventEmitter.prototype={emit:function(){var e=arguments[0];if("error"===e&&(!this._events||!this._events.error||this._events.error instanceof Array&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var n=this._events[e];if(!n)return!1;if("function"==typeof n){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(var t=arguments.length,i=new Array(t-1),o=1;t>o;o++)i[o-1]=arguments[o];n.apply(this,i)}return!0}if(n instanceof Array){for(var t=arguments.length,i=new Array(t-1),o=1;t>o;o++)i[o-1]=arguments[o];for(var r=n.slice(),o=0,t=r.length;t>o;o++)r[o].apply(this,i);return!0}return!1},on:function(e,n){if("function"!=typeof n)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,"function"==typeof n.listener?n.listener:n),this._events[e]?this._events[e]instanceof Array?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,this},once:function(e,n){function t(){i.removeListener(e,t),n.apply(this,arguments)}if("function"!=typeof n)throw new Error(".once only takes instances of Function");var i=this;return t.listener=n,i.on(e,t),this},removeListener:function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var t=this._events[e];if(t instanceof Array){for(var i=-1,o=0,r=t.length;r>o;o++)if(t[o]===n||t[o].listener&&t[o].listener===n){i=o;break}if(0>i)return this;t.splice(i,1),0==t.length&&delete this._events[e]}else(t===n||t.listener&&t.listener===n)&&delete this._events[e];return this},removeAllListeners:function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},listeners:function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),this._events[e]instanceof Array||(this._events[e]=[this._events[e]]),this._events[e]}},t._name="undefined"==typeof events?"events":"events_module"},{}],4:[function(e,n,t){var i=e("../plugins/Cookie");t.is_login=function(){return!!i.cookie("r2_auth")},t.get_uid=function(){return i.cookie("r2_uid")},t.get_nid=function(){return i.cookie("r2_nid")},t.get_account=function(){return i.cookie("r2_account")},t.get_open_plat=function(){return i.cookie("r2_open_plat")},t.get_name=function(){return i.cookie("r2_name")},t.login_out=function(e){i.cookie("r2_auth",""),e()},t.login_in=function(e){i.cookie("r2_auth","123456"),i.cookie("r2_uid","000000"),i.cookie("r2_account","1"),i.cookie("r2_name","kenfo"),e()}},{"../plugins/Cookie":2}],5:[function(e,n,t){function i(){r.login=function(){console.log("showLogin"),this.emit("showLogin")},$("body").on("click","[data-login_btn]",function(){console.log("初始化登录按钮"),r.is_login()||r.login()})}var o=e("../plugins/events"),r=$.extend(o(),e("./auth"));!function(){i(),window.user_action=r}()},{"../plugins/events":3,"./auth":4}]},{},[1]);